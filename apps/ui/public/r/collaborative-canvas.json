{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "collaborative-canvas",
  "description": "A collaborative canvas block for real-time collaboration.",
  "registryDependencies": [],
  "files": [
    {
      "path": "registry/default/examples/collaborative-canvas.tsx",
      "content": "\"use client\"\n\nimport { useEffect, useState } from \"react\"\nimport Image from \"next/image\"\n\nimport { AvatarStack } from \"../../../../../packages/avatar-stack\"\nimport {\n  Cursor,\n  CursorBody,\n  CursorMessage,\n  CursorName,\n  CursorPointer,\n} from \"../../../../../packages/cursor\"\nimport { cn } from \"../../../../../packages/ui/src/lib/utils\"\nimport {\n  Avatar,\n  AvatarFallback,\n  AvatarImage,\n} from \"../../../../../packages/ui/src/ui/avatar\"\n\nconst users = [\n  {\n    id: 1,\n    name: \"Connor Love\",\n    avatar: \"https://github.com/loveconnor.png\",\n  },\n  {\n    id: 2,\n    name: \"Thomas Raklovits\",\n    avatar: \"https://github.com/monster0506.png\",\n    message: \"I'm not sure if this is working...\",\n  },\n  {\n    id: 3,\n    name: \"Charlie Cambell\",\n    avatar: \"https://github.com/loveconnor.png\",\n  },\n]\n\nconst colors = [\n  {\n    foreground: \"text-emerald-800\",\n    background: \"bg-emerald-50\",\n  },\n  {\n    foreground: \"text-rose-800\",\n    background: \"bg-rose-50\",\n  },\n  {\n    foreground: \"text-sky-800\",\n    background: \"bg-sky-50\",\n  },\n]\n\n// Helper function to generate random position\nconst getRandomPosition = () => ({\n  x: Math.floor(Math.random() * 80) + 10, // Keep within 10-90% range\n  y: Math.floor(Math.random() * 80) + 10, // Keep within 10-90% range\n})\n\nconst Example = () => {\n  const [user1Position, setUser1Position] = useState({\n    x: 10,\n    y: 8,\n  })\n  const [user2Position, setUser2Position] = useState({\n    x: 30,\n    y: 40,\n  })\n  const [user3Position, setUser3Position] = useState({\n    x: 70,\n    y: 50,\n  })\n\n  // Store all user positions in a single array for easier access\n  const userPositions = [user1Position, user2Position, user3Position]\n\n  // Create separate useEffects for each user to move at different intervals\n  useEffect(() => {\n    const interval = setInterval(\n      () => {\n        setUser1Position(getRandomPosition())\n      },\n      Math.random() * 3000 + 2000\n    ) // Random interval between 2-5 seconds\n\n    return () => clearInterval(interval)\n  }, [])\n\n  useEffect(() => {\n    const interval = setInterval(\n      () => {\n        setUser2Position(getRandomPosition())\n      },\n      Math.random() * 4000 + 3000\n    ) // Random interval between 3-7 seconds\n\n    return () => clearInterval(interval)\n  }, [])\n\n  useEffect(() => {\n    const interval = setInterval(\n      () => {\n        setUser3Position(getRandomPosition())\n      },\n      Math.random() * 2500 + 1500\n    ) // Random interval between 1.5-4 seconds\n\n    return () => clearInterval(interval)\n  }, [])\n\n  // Assign positions to users\n  const usersWithPositions = users.map((user, index) => ({\n    ...user,\n    position: userPositions[index],\n  }))\n\n  return (\n    <div className=\"relative aspect-[4/3] size-full bg-[radial-gradient(var(--color-secondary),transparent_1px)] [background-size:16px_16px]\">\n      <div className=\"absolute top-8 right-8\">\n        <AvatarStack animate size={32}>\n          {usersWithPositions.map((user) => (\n            <Avatar key={user.id}>\n              <AvatarImage className=\"mt-0 mb-0\" src={user.avatar} />\n              <AvatarFallback>{user.name.slice(0, 2)}</AvatarFallback>\n            </Avatar>\n          ))}\n        </AvatarStack>\n      </div>\n      {usersWithPositions.map((user, index) => (\n        <Cursor\n          className=\"absolute transition-all duration-1000\"\n          key={user.id}\n          style={{\n            top: `${user.position.y}%`,\n            left: `${user.position.x}%`,\n          }}\n        >\n          <CursorPointer\n            className={cn(colors[index % colors.length].foreground)}\n          />\n          <CursorBody\n            className={cn(\n              colors[index % colors.length].background,\n              colors[index % colors.length].foreground,\n              \"gap-1 px-3 py-2\"\n            )}\n          >\n            <div className=\"flex items-center gap-2 opacity-100!\">\n              <Image\n                alt={user.name}\n                className=\"mt-0 mb-0 size-4 rounded-full\"\n                height={16}\n                src={user.avatar}\n                unoptimized\n                width={16}\n              />\n              <CursorName>{user.name}</CursorName>\n            </div>\n            {user.message && <CursorMessage>{user.message}</CursorMessage>}\n          </CursorBody>\n        </Cursor>\n      ))}\n    </div>\n  )\n}\nexport default Example\n",
      "type": "registry:example"
    }
  ],
  "categories": [
    "blocks",
    "collaborative",
    "canvas"
  ],
  "type": "registry:example"
}