{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "roadmap",
  "description": "A comprehensive roadmap with multiple views: Gantt, Calendar, List, Kanban, and Table.",
  "registryDependencies": [
    "@loveui/calendar",
    "@loveui/gantt",
    "@loveui/kanban",
    "@loveui/list",
    "@loveui/table",
    "@loveui/tabs",
    "@loveui/avatar",
    "@loveui/context-menu"
  ],
  "files": [
    {
      "path": "registry/default/examples/roadmap.tsx",
      "content": "\"use client\"\n\nimport { useState } from \"react\"\nimport { faker } from \"@faker-js/faker\"\nimport groupBy from \"lodash.groupby\"\nimport {\n  CalendarIcon,\n  ChevronRightIcon,\n  EyeIcon,\n  GanttChartSquareIcon,\n  KanbanSquareIcon,\n  LinkIcon,\n  ListIcon,\n  TableIcon,\n  TrashIcon,\n} from \"lucide-react\"\n\nimport {\n  CalendarBody,\n  CalendarDate,\n  CalendarDatePagination,\n  CalendarDatePicker,\n  CalendarHeader,\n  CalendarItem,\n  CalendarMonthPicker,\n  CalendarProvider,\n  CalendarYearPicker,\n} from \"../../../../../packages/calendar\"\nimport {\n  GanttCreateMarkerTrigger,\n  GanttFeatureItem,\n  GanttFeatureList,\n  GanttFeatureListGroup,\n  GanttHeader,\n  GanttMarker,\n  GanttProvider,\n  GanttSidebar,\n  GanttSidebarGroup,\n  GanttSidebarItem,\n  GanttTimeline,\n  GanttToday,\n} from \"../../../../../packages/gantt\"\nimport {\n  KanbanBoard,\n  KanbanCard,\n  KanbanCards,\n  KanbanHeader,\n  KanbanProvider,\n} from \"../../../../../packages/kanban\"\nimport {\n  ListGroup,\n  ListHeader,\n  ListItem,\n  ListItems,\n  ListProvider,\n  type DragEndEvent,\n} from \"../../../../../packages/list\"\nimport {\n  ContextMenu,\n  ContextMenuContent,\n  ContextMenuItem,\n  ContextMenuTrigger,\n} from \"../../../../../packages/shadcn-ui/components/ui/context-menu\"\nimport type { ColumnDef } from \"../../../../../packages/table\"\nimport {\n  TableBody,\n  TableCell,\n  TableColumnHeader,\n  TableHead,\n  TableHeader,\n  TableHeaderGroup,\n  TableProvider,\n  TableRow,\n} from \"../../../../../packages/table\"\nimport {\n  Avatar,\n  AvatarFallback,\n  AvatarImage,\n} from \"../../../../../packages/ui/src/ui/avatar\"\nimport {\n  Tabs,\n  TabsContent,\n  TabsList,\n  TabsTrigger,\n} from \"../../../../../packages/ui/src/ui/tabs\"\n\n// Seed faker to ensure consistent data between server and client\nfaker.seed(123)\n\nconst capitalize = (str: string) => str.charAt(0).toUpperCase() + str.slice(1)\n\nconst statuses = [\n  { id: faker.string.uuid(), name: \"Updated Planned\", color: \"#6B7280\" },\n  { id: faker.string.uuid(), name: \"Updated In Progress\", color: \"#F59E0B\" },\n  { id: faker.string.uuid(), name: \"Updated Done\", color: \"#10B981\" },\n]\n\nconst users = Array.from({ length: 4 })\n  .fill(null)\n  .map(() => ({\n    id: faker.string.uuid(),\n    name: faker.person.fullName(),\n    image: faker.image.avatar(),\n  }))\n\nconst exampleGroups = Array.from({ length: 6 })\n  .fill(null)\n  .map(() => ({\n    id: faker.string.uuid(),\n    name: capitalize(faker.company.buzzPhrase()),\n  }))\n\nconst exampleProducts = Array.from({ length: 4 })\n  .fill(null)\n  .map(() => ({\n    id: faker.string.uuid(),\n    name: capitalize(faker.company.buzzPhrase()),\n  }))\n\nconst exampleInitiatives = Array.from({ length: 2 })\n  .fill(null)\n  .map(() => ({\n    id: faker.string.uuid(),\n    name: capitalize(faker.company.buzzPhrase()),\n  }))\n\nconst exampleReleases = Array.from({ length: 3 })\n  .fill(null)\n  .map(() => ({\n    id: faker.string.uuid(),\n    name: capitalize(faker.company.buzzPhrase()),\n  }))\n\nconst exampleFeatures = Array.from({ length: 20 })\n  .fill(null)\n  .map(() => ({\n    id: faker.string.uuid(),\n    name: capitalize(faker.company.buzzPhrase()),\n    startAt: faker.date.past({ years: 0.5, refDate: new Date() }),\n    endAt: faker.date.future({ years: 0.5, refDate: new Date() }),\n    status: faker.helpers.arrayElement(statuses),\n    owner: faker.helpers.arrayElement(users),\n    group: faker.helpers.arrayElement(exampleGroups),\n    product: faker.helpers.arrayElement(exampleProducts),\n    initiative: faker.helpers.arrayElement(exampleInitiatives),\n    release: faker.helpers.arrayElement(exampleReleases),\n  }))\n\nconst exampleMarkers = Array.from({ length: 6 })\n  .fill(null)\n  .map(() => ({\n    id: faker.string.uuid(),\n    date: faker.date.past({ years: 0.5, refDate: new Date() }),\n    label: capitalize(faker.company.buzzPhrase()),\n    className: faker.helpers.arrayElement([\n      \"bg-blue-100 text-blue-900\",\n      \"bg-green-100 text-green-900\",\n      \"bg-purple-100 text-purple-900\",\n      \"bg-red-100 text-red-900\",\n      \"bg-orange-100 text-orange-900\",\n      \"bg-teal-100 text-teal-900\",\n    ]),\n  }))\n\nconst GanttView = () => {\n  const [features, setFeatures] = useState(exampleFeatures)\n  const groupedFeatures = groupBy(features, \"group.name\")\n\n  const sortedGroupedFeatures = Object.fromEntries(\n    Object.entries(groupedFeatures).sort(([nameA], [nameB]) =>\n      nameA.localeCompare(nameB)\n    )\n  )\n\n  const handleViewFeature = (id: string) =>\n    console.log(`Feature selected: ${id}`)\n\n  const handleCopyLink = (id: string) => console.log(`Copy link: ${id}`)\n\n  const handleRemoveFeature = (id: string) =>\n    setFeatures((prev) => prev.filter((feature) => feature.id !== id))\n\n  const handleRemoveMarker = (id: string) => console.log(`Remove marker: ${id}`)\n\n  const handleCreateMarker = (date: Date) =>\n    console.log(`Create marker: ${date.toISOString()}`)\n\n  const handleMoveFeature = (id: string, startAt: Date, endAt: Date | null) => {\n    if (!endAt) {\n      return\n    }\n\n    setFeatures((prev) =>\n      prev.map((feature) =>\n        feature.id === id ? { ...feature, startAt, endAt } : feature\n      )\n    )\n\n    console.log(`Move feature: ${id} from ${startAt} to ${endAt}`)\n  }\n\n  const handleAddFeature = (date: Date) =>\n    console.log(`Add feature: ${date.toISOString()}`)\n\n  return (\n    <GanttProvider\n      className=\"rounded-none\"\n      onAddItem={handleAddFeature}\n      range=\"monthly\"\n      zoom={100}\n    >\n      <GanttSidebar>\n        {Object.entries(sortedGroupedFeatures).map(([group, features]) => (\n          <GanttSidebarGroup key={group} name={group}>\n            {features.map((feature) => (\n              <GanttSidebarItem\n                feature={feature}\n                key={feature.id}\n                onSelectItem={handleViewFeature}\n              />\n            ))}\n          </GanttSidebarGroup>\n        ))}\n      </GanttSidebar>\n      <GanttTimeline>\n        <GanttHeader />\n        <GanttFeatureList>\n          {Object.entries(sortedGroupedFeatures).map(([group, features]) => (\n            <GanttFeatureListGroup key={group}>\n              {features.map((feature) => (\n                <div className=\"flex\" key={feature.id}>\n                  <ContextMenu>\n                    <ContextMenuTrigger asChild>\n                      <button\n                        onClick={() => handleViewFeature(feature.id)}\n                        type=\"button\"\n                      >\n                        <GanttFeatureItem\n                          onMove={handleMoveFeature}\n                          {...feature}\n                        >\n                          <p className=\"flex-1 truncate text-xs\">\n                            {feature.name}\n                          </p>\n                          {feature.owner && (\n                            <Avatar className=\"h-4 w-4\">\n                              <AvatarImage src={feature.owner.image} />\n                              <AvatarFallback>\n                                {feature.owner.name?.slice(0, 2)}\n                              </AvatarFallback>\n                            </Avatar>\n                          )}\n                        </GanttFeatureItem>\n                      </button>\n                    </ContextMenuTrigger>\n                    <ContextMenuContent>\n                      <ContextMenuItem\n                        className=\"flex items-center gap-2\"\n                        onClick={() => handleViewFeature(feature.id)}\n                      >\n                        <EyeIcon className=\"text-muted-foreground\" size={16} />\n                        Updated View feature\n                      </ContextMenuItem>\n                      <ContextMenuItem\n                        className=\"flex items-center gap-2\"\n                        onClick={() => handleCopyLink(feature.id)}\n                      >\n                        <LinkIcon className=\"text-muted-foreground\" size={16} />\n                        Updated Copy link\n                      </ContextMenuItem>\n                      <ContextMenuItem\n                        className=\"flex items-center gap-2 text-destructive\"\n                        onClick={() => handleRemoveFeature(feature.id)}\n                      >\n                        <TrashIcon size={16} />\n                        Updated Remove from roadmap\n                      </ContextMenuItem>\n                    </ContextMenuContent>\n                  </ContextMenu>\n                </div>\n              ))}\n            </GanttFeatureListGroup>\n          ))}\n        </GanttFeatureList>\n        {exampleMarkers.map((marker) => (\n          <GanttMarker\n            key={marker.id}\n            {...marker}\n            onRemove={handleRemoveMarker}\n          />\n        ))}\n        <GanttToday />\n        <GanttCreateMarkerTrigger onCreateMarker={handleCreateMarker} />\n      </GanttTimeline>\n    </GanttProvider>\n  )\n}\n\nconst earliestYear =\n  exampleFeatures\n    .map((feature) => feature.startAt.getFullYear())\n    .sort()\n    .at(0) ?? new Date().getFullYear()\n\nconst latestYear =\n  exampleFeatures\n    .map((feature) => feature.endAt.getFullYear())\n    .sort()\n    .at(-1) ?? new Date().getFullYear()\n\nconst CalendarView = () => (\n  <CalendarProvider>\n    <CalendarDate>\n      <CalendarDatePicker>\n        <CalendarMonthPicker />\n        <CalendarYearPicker end={latestYear} start={earliestYear} />\n      </CalendarDatePicker>\n      <CalendarDatePagination />\n    </CalendarDate>\n    <CalendarHeader />\n    <CalendarBody features={exampleFeatures}>\n      {({ feature }) => <CalendarItem feature={feature} key={feature.id} />}\n    </CalendarBody>\n  </CalendarProvider>\n)\n\nconst ListView = () => {\n  const [features, setFeatures] = useState(exampleFeatures)\n\n  const handleDragEnd = (event: DragEndEvent) => {\n    const { active, over } = event\n\n    if (!over) {\n      return\n    }\n\n    const status = statuses.find((status) => status.name === over.id)\n\n    if (!status) {\n      return\n    }\n\n    setFeatures(\n      features.map((feature) => {\n        if (feature.id === active.id) {\n          return { ...feature, status }\n        }\n\n        return feature\n      })\n    )\n  }\n\n  return (\n    <ListProvider className=\"overflow-auto\" onDragEnd={handleDragEnd}>\n      {statuses.map((status) => (\n        <ListGroup id={status.name} key={status.name}>\n          <ListHeader color={status.color} name={status.name} />\n          <ListItems>\n            {features\n              .filter((feature) => feature.status.name === status.name)\n              .map((feature, index) => (\n                <ListItem\n                  id={feature.id}\n                  index={index}\n                  key={feature.id}\n                  name={feature.name}\n                  parent={feature.status.name}\n                >\n                  <div\n                    className=\"h-2 w-2 shrink-0 rounded-full\"\n                    style={{ backgroundColor: feature.status.color }}\n                  />\n                  <p className=\"m-0 flex-1 text-sm font-medium\">\n                    {feature.name}\n                  </p>\n                  {feature.owner && (\n                    <Avatar className=\"h-4 w-4 shrink-0\">\n                      <AvatarImage src={feature.owner.image} />\n                      <AvatarFallback>\n                        {feature.owner.name?.slice(0, 2)}\n                      </AvatarFallback>\n                    </Avatar>\n                  )}\n                </ListItem>\n              ))}\n          </ListItems>\n        </ListGroup>\n      ))}\n    </ListProvider>\n  )\n}\n\nconst dateFormatter = new Intl.DateTimeFormat(\"en-US\", {\n  month: \"short\",\n  day: \"numeric\",\n  year: \"numeric\",\n})\n\nconst shortDateFormatter = new Intl.DateTimeFormat(\"en-US\", {\n  month: \"short\",\n  day: \"numeric\",\n})\n\nconst KanbanView = () => {\n  const [features, setFeatures] = useState(\n    exampleFeatures.map((feature) => ({\n      ...feature,\n      column: feature.status.id,\n    }))\n  )\n\n  const handleDragEnd = (event: DragEndEvent) => {\n    const { active, over } = event\n\n    if (!over) {\n      return\n    }\n\n    const status = statuses.find(({ id }) => id === over.id)\n\n    if (!status) {\n      return\n    }\n\n    setFeatures(\n      features.map((feature) => {\n        if (feature.id === active.id) {\n          return { ...feature, status }\n        }\n\n        return feature\n      })\n    )\n  }\n\n  return (\n    <KanbanProvider\n      className=\"p-4\"\n      columns={statuses}\n      data={features}\n      onDragEnd={handleDragEnd}\n    >\n      {(column) => (\n        <KanbanBoard id={column.id} key={column.id}>\n          <KanbanHeader>{column.name}</KanbanHeader>\n          <KanbanCards id={column.id}>\n            {(feature: (typeof features)[number]) => (\n              <KanbanCard\n                column={column.id}\n                id={feature.id}\n                key={feature.id}\n                name={feature.name}\n              >\n                <div className=\"flex items-start justify-between gap-2\">\n                  <div className=\"flex flex-col gap-1\">\n                    <p className=\"m-0 flex-1 text-sm font-medium\">\n                      {feature.name}\n                    </p>\n                    <p className=\"m-0 text-xs text-muted-foreground\">\n                      {feature.initiative.name}\n                    </p>\n                  </div>\n                  {feature.owner && (\n                    <Avatar className=\"h-4 w-4 shrink-0\">\n                      <AvatarImage src={feature.owner.image} />\n                      <AvatarFallback>\n                        {feature.owner.name?.slice(0, 2)}\n                      </AvatarFallback>\n                    </Avatar>\n                  )}\n                </div>\n                <p className=\"m-0 text-xs text-muted-foreground\">\n                  {shortDateFormatter.format(feature.startAt)} -{\" \"}\n                  {dateFormatter.format(feature.endAt)}\n                </p>\n              </KanbanCard>\n            )}\n          </KanbanCards>\n        </KanbanBoard>\n      )}\n    </KanbanProvider>\n  )\n}\n\nconst TableView = () => {\n  const columns: ColumnDef<(typeof exampleFeatures)[number]>[] = [\n    {\n      accessorKey: \"name\",\n      header: ({ column }) => (\n        <TableColumnHeader column={column} title=\"Updated Name\" />\n      ),\n      cell: ({ row }) => (\n        <div className=\"flex items-center gap-2\">\n          <div className=\"relative\">\n            <Avatar className=\"size-6\">\n              <AvatarImage src={row.original.owner.image} />\n              <AvatarFallback>\n                {row.original.owner.name?.slice(0, 2)}\n              </AvatarFallback>\n            </Avatar>\n\n            <div\n              className=\"absolute right-0 bottom-0 h-2 w-2 rounded-full ring-2 ring-background\"\n              style={{\n                backgroundColor: row.original.status.color,\n              }}\n            />\n          </div>\n          <div>\n            <span className=\"font-medium\">{row.original.name}</span>\n            <div className=\"flex items-center gap-1 text-xs text-muted-foreground\">\n              <span>{row.original.product.name}</span>\n              <ChevronRightIcon size={12} />\n              <span>{row.original.group.name}</span>\n            </div>\n          </div>\n        </div>\n      ),\n    },\n    {\n      accessorKey: \"startAt\",\n      header: ({ column }) => (\n        <TableColumnHeader column={column} title=\"Updated Start At\" />\n      ),\n      cell: ({ row }) =>\n        new Intl.DateTimeFormat(\"en-US\", {\n          dateStyle: \"medium\",\n        }).format(row.original.startAt),\n    },\n    {\n      accessorKey: \"endAt\",\n      header: ({ column }) => (\n        <TableColumnHeader column={column} title=\"Updated End At\" />\n      ),\n      cell: ({ row }) =>\n        new Intl.DateTimeFormat(\"en-US\", {\n          dateStyle: \"medium\",\n        }).format(row.original.endAt),\n    },\n    {\n      id: \"release\",\n      accessorFn: (row) => row.release.id,\n      header: ({ column }) => (\n        <TableColumnHeader column={column} title=\"Updated Release\" />\n      ),\n      cell: ({ row }) => row.original.release.name,\n    },\n  ]\n\n  return (\n    <div className=\"size-full overflow-auto\">\n      <TableProvider columns={columns} data={exampleFeatures}>\n        <TableHeader>\n          {({ headerGroup }) => (\n            <TableHeaderGroup headerGroup={headerGroup} key={headerGroup.id}>\n              {({ header }) => <TableHead header={header} key={header.id} />}\n            </TableHeaderGroup>\n          )}\n        </TableHeader>\n        <TableBody>\n          {({ row }) => (\n            <TableRow key={row.id} row={row}>\n              {({ cell }) => <TableCell cell={cell} key={cell.id} />}\n            </TableRow>\n          )}\n        </TableBody>\n      </TableProvider>\n    </div>\n  )\n}\n\nconst Example = () => {\n  const views = [\n    {\n      id: \"gantt\",\n      label: \"Updated Gantt\",\n      icon: GanttChartSquareIcon,\n      component: GanttView,\n    },\n    {\n      id: \"calendar\",\n      label: \"Updated Calendar\",\n      icon: CalendarIcon,\n      component: CalendarView,\n    },\n    {\n      id: \"list\",\n      label: \"Updated List\",\n      icon: ListIcon,\n      component: ListView,\n    },\n    {\n      id: \"kanban\",\n      label: \"Updated Kanban\",\n      icon: KanbanSquareIcon,\n      component: KanbanView,\n    },\n    {\n      id: \"table\",\n      label: \"Updated Table\",\n      icon: TableIcon,\n      component: TableView,\n    },\n  ]\n\n  return (\n    <Tabs className=\"not-prose size-full gap-0 divide-y\" defaultValue=\"gantt\">\n      <div className=\"flex items-center justify-between gap-4 p-4\">\n        <p className=\"font-medium\">Updated Roadmap</p>\n        <TabsList>\n          {views.map((view) => (\n            <TabsTrigger key={view.id} value={view.id}>\n              <view.icon size={16} />\n              <span className=\"sr-only\">{view.label}</span>\n            </TabsTrigger>\n          ))}\n        </TabsList>\n      </div>\n      {views.map((view) => (\n        <TabsContent className=\"overflow-hidden\" key={view.id} value={view.id}>\n          <view.component />\n        </TabsContent>\n      ))}\n    </Tabs>\n  )\n}\n\nexport default Example\n",
      "type": "registry:example"
    }
  ],
  "categories": [
    "blocks",
    "roadmap",
    "project"
  ],
  "type": "registry:example"
}